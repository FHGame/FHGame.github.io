"use strict";(self.webpackChunkfisthero_ui=self.webpackChunkfisthero_ui||[]).push([[92],{4412:function(e,t,n){n.d(t,{F:function(){return o}});var s,r=n(7186),i=(n(7313),n(1114)),a=n(508),c=n(9184),l=n(6417),o=function(e){var t=e.className,n=e.NFTInfo,s=e.enableSelect,r=e.toggleNFT;if(!n)return(0,l.jsx)("div",{});var c=n.tokenId,o=n.rarity?n.rarity:"1";return(o<"1"||o>"3")&&(o="1"),(0,l.jsxs)(u,{className:"relative rounded-md  ".concat(n.isSelected?"shadow-xl ring-4 ring-red-800":""),onClick:function(){return s&&r(c)},children:[n.isStaked&&(0,l.jsx)("div",{className:"absolute inset-0 bg-black/70","aria-hidden":"true"}),s&&n.isSelected&&(0,l.jsx)("div",{className:"absolute inset-0 bg-black/20","aria-hidden":"true"}),(0,l.jsx)(a.Z,{src:(0,i.vg)("cards/NFT_hero_".concat(n.name,"_").concat(o,".png")),autoPlay:!0,className:t}),(0,l.jsxs)("div",{className:"absolute bottom-[6%] left-[21%] w-8/12 flex justify-between items-center text-[#FFDDA8] md:text-xs text-xs",children:[(0,l.jsx)("div",{className:"",children:n.hashPower}),(0,l.jsx)("div",{className:"",children:"-"}),(0,l.jsxs)("div",{className:"",children:["#",c]})]}),(0,l.jsx)("img",{className:"\n           absolute left-[40%] top-[43%]\n           ".concat(n.isStaked?"block":"hidden","\n        "),src:(0,i.vg)("mining/staked-status.png"),alt:"staked-status"})]})},u=c.ZP.div(s||(s=(0,r.Z)([""])))},9092:function(e,t,n){n.r(t),n.d(t,{default:function(){return H}});var s=n(3032),r=n(3430),i=n(7186),a=n(4322),c=n.n(a),l=n(7313),o=(n(9560),n(8552)),u=(n(6321),n(9466)),d=n(7504),x=n(8805),m=n(1843),f=n(3559),h=n(874),p=n(513),g=n(8197),b=n(3690),v=n(9491),j=n(9624),w=n(3912),N=n(7998),y=n(1114),k=n(6487),Z=n(9751),F=n(6417);function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.currency,n=e.value;return t?n?new Z.x(t,n).format({suffix:" "+t.ticker}):"0 "+t.ticker:"-"}var D,S=function(e){return(0,F.jsx)(F.Fragment,{children:I(e.asset)})},T=n(9184),A=n(1361),C=n(8955),P=n(56),M=n(8489),B=n(508),_="opening",W="end",K=(0,y.vg)("hero/nftbox_1.png"),X=(0,y.vg)("hero/nftbox_2.png"),E=(0,y.vg)("hero/nftbox_3.png"),L=function(e){return(0,F.jsx)(B.Z,(0,M.Z)((0,M.Z)({},e),{},{src:e.status===_?X:e.status===W?E:K,autoPlay:!0,isOneTime:e.status===W}))},O=n(3557),R=n(4412),z=n(1733),$=n.n(z),q=n(2388),G=T.ZP.div(D||(D=(0,i.Z)(["\n  width: 40%;\n  input.ant-input::placeholder {\n    color: rgba(69, 73, 80, 0.81);\n  }\n\n  @media (max-width: 768px) {\n    width: 70%;\n  }\n"]))),H=function(){var e=(0,N.K)().account,t=(0,u.lr)(),n=(0,r.Z)(t,1)[0],i=(0,A.u)(),a=i.data,Z=i.isLoading,D=(0,l.useState)(!1),T=(0,r.Z)(D,2),M=T[0],B=T[1],K=(0,l.useState)(""),X=(0,r.Z)(K,2),E=X[0],z=X[1],H=(0,l.useState)(!1),J=(0,r.Z)(H,2),Q=J[0],U=J[1],V=(0,l.useState)([]),Y=(0,r.Z)(V,2),ee=Y[0],te=Y[1],ne=(0,P.useMutation)((0,s.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,y.Kc)(a),(0,C.f)("open Box inviter",ce),e.next=4,a.buyAndOpenBoxesWithInviter(Number(E),ce);case 4:if(!(t=e.sent)){e.next=10;break}return U(!0),e.next=9,(0,y.gk)(500);case 9:te(t.map((function(e){return e.toString()})));case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)}))),{onError:function(){var e=(0,s.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.Z.error({message:"open box failed",description:null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),se=(ne.mutate,ne.isLoading),re=(0,P.useMutation)((0,s.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,y.Kc)(a),e.next=3,a.openBoxes(Number(E));case 3:if(!(t=e.sent)){e.next=9;break}return U(!0),e.next=8,(0,y.gk)(500);case 8:te(t.map((function(e){return e.toString()})));case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)}))),{onError:function(){var e=(0,s.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.Z.error({message:"open box failed",description:null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),ie=re.mutate,ae=re.isLoading,ce=(0,l.useMemo)((function(){var e=n.get("inviter");return e&&o.isAddress(e)?e:""}),[n]);if(!e)return(0,F.jsx)("div",{className:"flex justify-center items-center mt-[20rem]",children:(0,F.jsx)(x.pB,{type:"primary"})});if(Z||!a)return(0,F.jsx)(x.gb,{});var le=function(e){return a&&e in a.config.NFTInfoMap?$()((0,q.formatEther)(a.config.NFTInfoMap[e].hashPower)).format("0,0"):"-"},oe=function(e){return a&&e in a.config.NFTInfoMap?a.config.NFTInfoMap[e].name:"-"},ue=function(e){return a&&e in a.config.NFTInfoMap?a.config.NFTInfoMap[e].rarity:"-"};return(0,F.jsxs)("div",{className:"px-4 container mx-auto",children:[(0,F.jsx)("div",{className:"h-32 flex justify-center mx-auto text-center bg-[url(/public/assets/hero/hero-title-bar.png)] bg-no-repeat bg-center bg-contain mt-6 text-2xl",children:(0,F.jsxs)("span",{className:"inline-block mt-16 text-[#FFDDA8] font-bold",children:[" ",(0,F.jsx)(O.xv,{tid:"hero-box"})," "]})}),a.config.sellingStartTime>0&&!a.isWithinSellingPeriod&&e&&(0,F.jsx)(x.IT,{targetDatetime:a.config.sellingStartTime}),(0,F.jsx)(g.Z,{justify:"center",className:"md:mt-4 mt-[1rem] h-100 flex justify-center items-center bg-[url(/public/assets/hero/bg-box.png)] bg-no-repeat bg-center bg-contain",children:(0,F.jsx)(L,{status:Q?W:se||ae?_:"before",className:"block w-11/12 md:w-9/12 center"})}),(0,F.jsx)(g.Z,{gutter:16,justify:"center",className:"flex justify-center mt3 mt4-ns w-full",children:(0,F.jsx)("div",{className:"flex flex-wrap flex-nowrap-ns justify-center w-full mb-[20rem]",children:(0,F.jsxs)(G,{children:[(0,F.jsx)(b.Z,{className:"ba b--gray mr-2 mb-2 mt-2 h-10 text-1xl",disabled:se||ae,value:E,onChange:function(e){return(/^[1-9]\d*$/.test(e.target.value)||""===e.target.value)&&z(e.target.value)},placeholder:"Boxes Count",suffix:(0,F.jsx)(v.Z,{size:"small",type:"link",onClick:function(){(0,y.Kc)(a);var e=a.config.boxes;e>10&&(e=10),z(e.toString())},children:"MAX"})}),(0,F.jsxs)(g.Z,{className:"w-full flex justify-between",children:[(0,F.jsx)(j.Z,{sm:12,md:12,lg:10,children:(0,F.jsxs)("div",{className:"text-[#FFDDA8] w-auto text-[0.7rem] md:text-[1rem]",children:[(0,F.jsx)(O.xv,{tid:"box-price"}),": ",I(a.config.purchasePrice)]})}),(0,F.jsx)(j.Z,{sm:12,md:12,lg:10,className:"",children:(0,F.jsxs)("div",{className:"text-[#FFDDA8] w-auto text-[0.7rem] md:text-[1rem] inline-block",children:[(0,F.jsx)(O.xv,{tid:"boxes"}),": "+a.config.boxes]})})]}),!a.isInWhitelist&&(0,F.jsx)("div",{className:"fixed inset-0 bg-black/60","aria-hidden":"true"}),(0,F.jsxs)("div",{className:"mt-4 w-full flex items-center",children:[a.isInWhitelist?(0,F.jsxs)(d.X,{loading:se||ae,className:"text-white bg-[url(/public/assets/hero/button-open-left.png)] bg-contain bg-no-repeat bg-center px-4 py-4 w-6/12 md:text-2xl text-xs",type:"primary",onClick:(0,s.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ie();case 1:case"end":return e.stop()}}),e)}))),children:[(se||ae)&&(a.isApproved,"Opening..."),!se&&!ae&&(a.isApproved,(0,F.jsx)(O.xv,{tid:"open-box"}))]}):(0,F.jsx)(d.X,{disabled:!a.buyBoxTokenBalance||!E,className:"text-white bg-[url(/public/assets/hero/button-open-left.png)] bg-contain bg-no-repeat bg-center px-4 py-4 w-6/12 md:text-2xl text-xs",children:"Not Whitelist"}),(0,F.jsx)(d.X,{className:"bg-[url(/public/assets/hero/button-open-right.png)] bg-contain bg-no-repeat bg-center px-4 py-4 w-6/12 md:text-2xl text-xs text-white",type:"primary",onClick:function(){return B(!0)},disabled:!0,children:(0,F.jsx)(O.xv,{tid:"invitation"})})]})]})})}),(0,F.jsxs)(w.Z,{style:{background:"#000"},visible:M,onCancel:function(){return B(!1)},footer:null,closable:!1,children:[function(){if(!a||!a.inviteesInfo)return(0,F.jsx)(f.ZP,{loading:!0});var e=a.inviteesInfo,t=e.reward,n=e.rewardClaimed,s=e.invitees,r=e.rewardsForInviter;if(!s)return(0,F.jsx)(f.ZP.Item,{children:(0,F.jsx)("div",{children:"No Invitees"})});for(var i=[],c=0;c<s.length;c++)i.push((0,F.jsxs)(f.ZP.Item,{children:[(0,F.jsx)(h.Z.Text,{className:"gray w-40",children:(0,F.jsx)(p.Z,{title:s[c],children:(0,y.ro)(s[c])})}),(0,F.jsx)("div",{className:"text-[#FFDDA8] w-30",children:r[c].div(k.bf.mul(6)).toNumber()}),(0,F.jsx)("div",{className:"text-[#FFDDA8] w-30",children:(0,F.jsx)(S,{asset:{currency:k.lC,value:r[c]}})})]},c));return(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)(f.ZP,{children:[(0,F.jsxs)("div",{className:"bn",children:[(0,F.jsx)("span",{className:"gray w-77 mr2 fw8",children:"Total Reward"}),(0,F.jsxs)("span",{className:"text-[#FFDDA8] w-20 fw8",children:[" ",(0,F.jsx)(S,{asset:{currency:k.lC,value:t}})," "]})]}),(0,F.jsxs)("div",{className:"bn",children:[(0,F.jsx)("span",{className:"gray w-77 mr2 fw8",children:"Claimed"}),(0,F.jsxs)("span",{className:"text-[#FFDDA8] w-20 fw8",children:[" ",(0,F.jsx)(S,{asset:{currency:k.lC,value:n}})," "]})]}),(0,F.jsxs)(f.ZP.Item,{children:[(0,F.jsx)("div",{className:"gray w-40 fw8",children:"My Invitees"}),(0,F.jsx)("div",{className:"text-[#FFDDA8] w-30 fw8",children:"Bought Boxes"}),(0,F.jsx)("div",{className:"text-[#FFDDA8] w-30 fw8",children:"Invite Reward"})]}),i]})})}(),(0,F.jsx)("div",{className:"bb border-yellow-900 mt3 mb3"}),(0,F.jsx)(h.Z.Text,{copyable:{text:"https://fisthero.com/#/hero/box?inviter=".concat(e)},children:(0,F.jsx)(p.Z,{title:"invitation link",children:(0,y.ro)("https://fisthero.com/#/hero/box?inviter=".concat(e),48)})}),(0,F.jsx)("div",{className:"mt3 mb3"})]}),(0,F.jsxs)(w.Z,{visible:Q&&ee.length>0,maskStyle:{background:"rgba(0,0,0,.95)"},width:800,footer:null,closable:!1,children:[(0,F.jsx)(g.Z,{gutter:24,justify:"center",children:ee.map((function(e){return(0,F.jsx)(j.Z,{xs:12,sm:12,md:6,lg:6,className:"mb-4",children:(0,F.jsx)(R.F,{className:"w-[10.2rem] hover:cursor-pointer",NFTInfo:((0,C.f)("tokenIdStr",e,oe(e)),{name:oe(e),rarity:ue(e),tokenId:e,hashPower:le(e),attack:"-",isStaked:!1,isSelected:!1}),enableSelect:!1,toggleNFT:function(){}})},e)}))}),(0,F.jsx)(v.Z,{onClick:function(){U(!1),te([])},className:"center mw5 tc db shadow-3",block:!0,type:"primary",children:(0,F.jsx)(O.xv,{tid:"collect"})})]})]})}}}]);